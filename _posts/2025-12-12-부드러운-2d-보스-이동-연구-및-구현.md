---
title: "부드러운 2D 보스 이동 연구 및 구현"
date: 2025-12-12 00:00:00 +0000
categories: [Unity C#,Research]
tags: []
---

# 요구사항 및 구현 결과


요구사항은 간결하다

> 모든 움직임 및 움직임 전환이 부드러워야 한다.

![구현 결과 gif](https://prod-files-secure.s3.us-west-2.amazonaws.com/3d3a7a90-9fe0-48ee-85e4-3d4e9c311d08/e72d5634-4b4f-4f34-8626-497ec2103dd6/4b092b02-2695-11f0-b5b1-a0369ffabf4c-ezgif.com-video-to-gif-converter.gif?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ALMRQI2%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T170534Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQCb0ldcXyzizGOijSPaFtj2EQdfi1Qrfp4bpB4OnRbSNQIgfvSC8mSjph6EKYPmlYNmRalbXeT5G5hjC0JCjw1PTzoqiAQI8f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOF0YxNNHdQL5gcARircA6kM2cWHjmbu6UVB07jVtyr9yI9uzPNa0y7y6XC155Th%2FceTjPgflAQXc97z5q%2Bntmph%2BhnVFLEQ7%2F3MuqVqsJKUyWASgGUO81I4wbKWQ859NjidnIOxB7pGxVcBqyCeu1SqYLHxS5zTzOwgLbdr7LG3kVpzQvqQEjhn9q%2BW0jlBY%2FPZWtUu3OEHwLgrVALz7ez0RbOBPbREGekA6sflUJs1zQunLFJiOSY6xpA4Ixwi9I1L5ImsbWmqym8T5Uov0OxCrdQSqvJI6QMF%2B%2F85KwbaHmH3a5PvzrYVHkw3mR5gRB6EZUMvA69kbzznx9y6U8pMbJgQ8Lk85yxYZXYGbzwNSlDL1MdHJNAIMgvJrsBHFPCRmrg4JLe92kngC4eVKYZGIybzFAxLyhjpCC%2BhBI4SndZ%2Bz63%2FxqJiD4dSk2oIVVhfEvzVGyZA9V4pTr%2BZAeEoml2fI6lkSr6XCQZd8gM7X8st8KPQ%2FGGHce8%2FEbPugVOqLMhOHHJkxpWOgJIlgimuLH9X0E6nQEgt1CtX8aUXGzIf0cEow%2BHVeqoUEWd0kUw55vWCOIiBZOJ1pO1VhIKMWV2%2FHMIqEirji5zkT6Cchs6xcxmnKrjfZaWM4FuiKKX8rySl8kLx0du2MPze68kGOqUBOjGQiJsI8LxrGs1E1m73JHhPfQaf070J8KcppjBxxdlGR7hCZgCqN23jJcRzFTvHEFPWrwHL8Q%2FsgZgKrQ3tbjTz6mkEIf8uvDQ4r7SezO9%2FdYB7sQaa0Zq6FEsChfkZGnenCDPLCR2cTmS9a5rEAbbdIwhLVgw3nJhrwfWjPPF6CPUOglCsfsIl14WCcqA%2FEnZjKt1%2Fh5Ms5XtXo%2FwEeQiYodEK&X-Amz-Signature=e1b3345d4141d968cdd41d0da78a9905135d1b9a21d4b6509f7e82b202f6a5b4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


본문에서는 두 가지의 행동 패턴을 구현할 것이다.

1. 플레이어를 중심으로 원 모양으로 회전하며 탄막 발사
2. 플레이어에게 세 번 돌진

---


# 1번 패턴 (플레이어 중심 선회 탄막) 구현


![좌 : 특정 각도로 즉시 선회 (=관성 무시), 물리적으로 부자연스러움 // 우 : 완만하게 곡선을 그리며 원형 궤도에 진입](https://prod-files-secure.s3.us-west-2.amazonaws.com/3d3a7a90-9fe0-48ee-85e4-3d4e9c311d08/291bf21d-e161-4c00-ae63-615f6ad6bdc1/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ALMRQI2%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T170534Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQCb0ldcXyzizGOijSPaFtj2EQdfi1Qrfp4bpB4OnRbSNQIgfvSC8mSjph6EKYPmlYNmRalbXeT5G5hjC0JCjw1PTzoqiAQI8f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOF0YxNNHdQL5gcARircA6kM2cWHjmbu6UVB07jVtyr9yI9uzPNa0y7y6XC155Th%2FceTjPgflAQXc97z5q%2Bntmph%2BhnVFLEQ7%2F3MuqVqsJKUyWASgGUO81I4wbKWQ859NjidnIOxB7pGxVcBqyCeu1SqYLHxS5zTzOwgLbdr7LG3kVpzQvqQEjhn9q%2BW0jlBY%2FPZWtUu3OEHwLgrVALz7ez0RbOBPbREGekA6sflUJs1zQunLFJiOSY6xpA4Ixwi9I1L5ImsbWmqym8T5Uov0OxCrdQSqvJI6QMF%2B%2F85KwbaHmH3a5PvzrYVHkw3mR5gRB6EZUMvA69kbzznx9y6U8pMbJgQ8Lk85yxYZXYGbzwNSlDL1MdHJNAIMgvJrsBHFPCRmrg4JLe92kngC4eVKYZGIybzFAxLyhjpCC%2BhBI4SndZ%2Bz63%2FxqJiD4dSk2oIVVhfEvzVGyZA9V4pTr%2BZAeEoml2fI6lkSr6XCQZd8gM7X8st8KPQ%2FGGHce8%2FEbPugVOqLMhOHHJkxpWOgJIlgimuLH9X0E6nQEgt1CtX8aUXGzIf0cEow%2BHVeqoUEWd0kUw55vWCOIiBZOJ1pO1VhIKMWV2%2FHMIqEirji5zkT6Cchs6xcxmnKrjfZaWM4FuiKKX8rySl8kLx0du2MPze68kGOqUBOjGQiJsI8LxrGs1E1m73JHhPfQaf070J8KcppjBxxdlGR7hCZgCqN23jJcRzFTvHEFPWrwHL8Q%2FsgZgKrQ3tbjTz6mkEIf8uvDQ4r7SezO9%2FdYB7sQaa0Zq6FEsChfkZGnenCDPLCR2cTmS9a5rEAbbdIwhLVgw3nJhrwfWjPPF6CPUOglCsfsIl14WCcqA%2FEnZjKt1%2Fh5Ms5XtXo%2FwEeQiYodEK&X-Amz-Signature=cf84c102c6b9a361c542d5c21c570ed0555712df61c989b00373d5f1a7127bba&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

> P는 플레이어, B는 보스, 초록색 원은 보스가 진입해야 하는 궤도임

좌측 이미지는 부드럽지 않은 (물리적으로 부자연스러운) 움직임을 표현한 것이고, 우측 이미지는 부드러운 움직임을 표현한 것이다.


핵심적인 차이는 **선회 반경**이다.


![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-12-12_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_1.43.44.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/3d3a7a90-9fe0-48ee-85e4-3d4e9c311d08/d5d850b9-9ed4-467f-886e-2fb692622493/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-12-12_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_1.43.44.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ALMRQI2%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T170534Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQCb0ldcXyzizGOijSPaFtj2EQdfi1Qrfp4bpB4OnRbSNQIgfvSC8mSjph6EKYPmlYNmRalbXeT5G5hjC0JCjw1PTzoqiAQI8f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOF0YxNNHdQL5gcARircA6kM2cWHjmbu6UVB07jVtyr9yI9uzPNa0y7y6XC155Th%2FceTjPgflAQXc97z5q%2Bntmph%2BhnVFLEQ7%2F3MuqVqsJKUyWASgGUO81I4wbKWQ859NjidnIOxB7pGxVcBqyCeu1SqYLHxS5zTzOwgLbdr7LG3kVpzQvqQEjhn9q%2BW0jlBY%2FPZWtUu3OEHwLgrVALz7ez0RbOBPbREGekA6sflUJs1zQunLFJiOSY6xpA4Ixwi9I1L5ImsbWmqym8T5Uov0OxCrdQSqvJI6QMF%2B%2F85KwbaHmH3a5PvzrYVHkw3mR5gRB6EZUMvA69kbzznx9y6U8pMbJgQ8Lk85yxYZXYGbzwNSlDL1MdHJNAIMgvJrsBHFPCRmrg4JLe92kngC4eVKYZGIybzFAxLyhjpCC%2BhBI4SndZ%2Bz63%2FxqJiD4dSk2oIVVhfEvzVGyZA9V4pTr%2BZAeEoml2fI6lkSr6XCQZd8gM7X8st8KPQ%2FGGHce8%2FEbPugVOqLMhOHHJkxpWOgJIlgimuLH9X0E6nQEgt1CtX8aUXGzIf0cEow%2BHVeqoUEWd0kUw55vWCOIiBZOJ1pO1VhIKMWV2%2FHMIqEirji5zkT6Cchs6xcxmnKrjfZaWM4FuiKKX8rySl8kLx0du2MPze68kGOqUBOjGQiJsI8LxrGs1E1m73JHhPfQaf070J8KcppjBxxdlGR7hCZgCqN23jJcRzFTvHEFPWrwHL8Q%2FsgZgKrQ3tbjTz6mkEIf8uvDQ4r7SezO9%2FdYB7sQaa0Zq6FEsChfkZGnenCDPLCR2cTmS9a5rEAbbdIwhLVgw3nJhrwfWjPPF6CPUOglCsfsIl14WCcqA%2FEnZjKt1%2Fh5Ms5XtXo%2FwEeQiYodEK&X-Amz-Signature=3baa697367927cee3c6932d91cba31e9fa5aabbf0715102bba136cf256974891&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


급격하게 이동 방향을 바꿀수록, 큰 힘을 필요로 하며, 뚝 끊기는 느낌을 준다.


따라서 우측 이미지와 같이 급격한 (불연속적인) 이동 방향 변경 없이, 부드럽게 원 궤도에 진입 할 수 있도록 구현할 것이다.


이를 위한 아이디어는 다음과 같다.


![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-12-12_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_1.55.18.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/3d3a7a90-9fe0-48ee-85e4-3d4e9c311d08/2a5f311d-2f30-4463-b60c-dacccf44a9f0/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-12-12_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_1.55.18.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ALMRQI2%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T170534Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQCb0ldcXyzizGOijSPaFtj2EQdfi1Qrfp4bpB4OnRbSNQIgfvSC8mSjph6EKYPmlYNmRalbXeT5G5hjC0JCjw1PTzoqiAQI8f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOF0YxNNHdQL5gcARircA6kM2cWHjmbu6UVB07jVtyr9yI9uzPNa0y7y6XC155Th%2FceTjPgflAQXc97z5q%2Bntmph%2BhnVFLEQ7%2F3MuqVqsJKUyWASgGUO81I4wbKWQ859NjidnIOxB7pGxVcBqyCeu1SqYLHxS5zTzOwgLbdr7LG3kVpzQvqQEjhn9q%2BW0jlBY%2FPZWtUu3OEHwLgrVALz7ez0RbOBPbREGekA6sflUJs1zQunLFJiOSY6xpA4Ixwi9I1L5ImsbWmqym8T5Uov0OxCrdQSqvJI6QMF%2B%2F85KwbaHmH3a5PvzrYVHkw3mR5gRB6EZUMvA69kbzznx9y6U8pMbJgQ8Lk85yxYZXYGbzwNSlDL1MdHJNAIMgvJrsBHFPCRmrg4JLe92kngC4eVKYZGIybzFAxLyhjpCC%2BhBI4SndZ%2Bz63%2FxqJiD4dSk2oIVVhfEvzVGyZA9V4pTr%2BZAeEoml2fI6lkSr6XCQZd8gM7X8st8KPQ%2FGGHce8%2FEbPugVOqLMhOHHJkxpWOgJIlgimuLH9X0E6nQEgt1CtX8aUXGzIf0cEow%2BHVeqoUEWd0kUw55vWCOIiBZOJ1pO1VhIKMWV2%2FHMIqEirji5zkT6Cchs6xcxmnKrjfZaWM4FuiKKX8rySl8kLx0du2MPze68kGOqUBOjGQiJsI8LxrGs1E1m73JHhPfQaf070J8KcppjBxxdlGR7hCZgCqN23jJcRzFTvHEFPWrwHL8Q%2FsgZgKrQ3tbjTz6mkEIf8uvDQ4r7SezO9%2FdYB7sQaa0Zq6FEsChfkZGnenCDPLCR2cTmS9a5rEAbbdIwhLVgw3nJhrwfWjPPF6CPUOglCsfsIl14WCcqA%2FEnZjKt1%2Fh5Ms5XtXo%2FwEeQiYodEK&X-Amz-Signature=7a1e49ad0e0521e1cc5939dc3d22d8a154da676fc8b1a12b33d91c428efcbd42&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


매 프레임마다 보스는 다음과 같은 연산을 수행한다.

1. 플레이어를 중심으로 하는 원 궤도 C (초록색 원)
2. 플레이어와 보스를 잇는 직선 L (보라색 선)
3. C와 L의 교점 P1 (주황색 점)
4. 플레이어를 기준으로 P1에서 θ 각 만큼 떨어진 C 위의 점 P2
5. 보스는 P2를 향하는 벡터 V를 정규화하여 이동방향 벡터로 삼는다.

결과적으로 보스는 매 프레임마다 현재 위치에서 원 궤도 위의 다음 점 위치를 목표 방향으로 삼고 움직이므로, 부드럽게 원 궤도에 합류하여 궤도 운동을 하게 된다.


해당 논리 흐름을 코드로 구현하면 다음과 같다.


```javascript
public void BehaviourTick(){
		var playerPos = Player.player.transform.position;
    // 처음에 제일 가까운 플레이어 원형지점 찾기 (플레이어 -> 보스 위치 직선과 플레이어 일정거리 반지름 원과의 교점)
    Vector3 nearestCirclePos = playerPos + (transform.position - playerPos).normalized * 7.5f;

    // 원 방정식 위에서 다음 이동 지점을 회전 변환으로 구하고자 함
    float angleStep = 0.2f;
    float cos = Mathf.Cos(angleStep);
    float sin = Mathf.Sin(angleStep);

    float dx = nearestCirclePos.x - playerPos.x;
    float dy = nearestCirclePos.y - playerPos.y;

    // 회전 변환 적용
    Vector3 nextStepCirclePos = new(cos * dx - sin * dy + playerPos.x,
        sin * dx + cos * dy + playerPos.y);

    rigid.velocity = (nextStepCirclePos - transform.position).normalized * moveSpeed;
}
```


/인용BehaviourTick은 BehaviourManager가 Update에서 매 프레임마다 호출하도록 한다.

